# Changelog

## 0.8.2

少数のフォントサイズが正しく設定できなかったバグを修正しています。  
おすすめの設定は、フォントサイズ2.5vhで40文字ですよ。

縦書きプレビューの更新時間を1.5秒よりも遅くならないように修正しました。  
長いテキストの場合にはもたつくかもしれませんが、後のバージョンでなんとかします。

## 0.8.1

ステータスバーでアクティブなドキュメントの文字数、プロジェクト全体の文字数を表示できるようになりました。  
プロジェクト全体の文字数は、ファイルを保存したタイミングで更新します。

なお、MITライセンスで公開されている8amjp/vsce-charactercountの成果を使わせていただいています。
[8amjp/vsce-charactercount](https://github.com/8amjp/vsce-charactercount)

## 0.8.0

テキストファイルの結合が可能になりました。
VS Codeで開いているフォルダー直下のテキストファイルを結合し、publishフォルダーの中に、フォルダー名のファイルを作ります。

VS Codeで開いているフォルダーの中に「原稿」あるいは「Draft」フォルダーがある場合には、そのフォルダーの中のテキストのみ結合します。

テキストを含むフォルダーが結合される時に、区切り文字を挿入できます。現在のバージョンは3文字落とした「＊」を挿入します。

## 0.7.6

[Masayoshi Takahashi](https://github.com/takahashim)さんの貢献によって、eslintを導入し、スクリプトの型安全性を見直しています。また、[Masayoshi Takahashi]さんには、 MITライセンスの記載方法も修正していただきました。

- [Define FontSize type as Template Literal Types](https://github.com/ttrace/vscode-language-japanese-novel/pull/4)
- [add eslint](https://github.com/ttrace/vscode-language-japanese-novel/pull/6)

プレビューのレスポンスを若干早めています。

## 0.7.5

0.7.4 で動作しなくなっていた縦書きのプレビューのバグを修正しました。

## 0.7.2

単独で開いたファイルも縦書きできるようになりました。

## 0.7.1

パッケージ依存の修正。utf-8-validateを入れ忘れていました。

## 0.7.0

このバージョンから、プレビューにnode httpサーバーを使い、テキストをwebsocketsで書き出すことにしました。  
今まではVisual Studio CodeのWebViewに直接HTMLを書き出していましたが、サーバーにしてプロセスを切り離すことで、以下のメリットが得られます。  

- テキストエディタのレスポンスを定価させずに、長いテキストをプレビューできる
- 他のコンピューターや、モバイルデバイスのブラウザーからプレビューを参照することができる
- 締め切りタイマーや進捗グラフなど、今後予定している機能追加が楽になる（jqueryを使い始めました）

また、サーバーだけ起動する\[Novel:プレビューサーバー起動\]メニューも追加しました。実行すると、縦書き表示に使っているlocalhost:8080で縦書きのプレビューサーバーが起動します。LANの他のコンピューターからも参照できますので、スマートフォンやタブレットなどをビュワーとしてお使いください。

また、このバージョンからエクステンションのスクリプトをjavascriptからtypescriptに変更しています。

## 0.6.9

プレビューのスクロール位置が追従しないバグの修正。

## 0.6.8

出力するPDFも、画面プレビュー時の行あたり字数を用いるように変更しました。

bug-fix:
ユーザー設定の正規表現検索置換の初期設定を修正。

## 0.6.4

青空文庫の字下げ注記に、簡易に対応しました。以下のように書くと縦書きのプレビューとPDF出力で3文字まで字下げすることが可能です。

```
［＃ここから３文字下げ］
字下げしたい段落。
［＃ここで字下げ終わり］
```

## 0.6.3

正規表現の検索置換ができなくなっていたのを修正。設定画面の例も修正。

## 0.6.1

会話の中に、サポートする括弧で囲まれた文があったとき、ハイライトするように修正。

HTML形式のコメントを、言語"novel"の blockcomment として定義した。コメントは、縦書きのプレビュー時に吹き出しで表示し、PDFを書き出す時には無視される。
